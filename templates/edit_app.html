{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-6">Edit App</h2>

<div class="max-w-xl bg-white dark:bg-gray-800 p-6 rounded shadow">
    <form method="POST" enctype="multipart/form-data">
        <div class="mb-4">
            <label for="name" class="block text-sm font-medium mb-1">App Name</label>
            <input type="text" name="name" value="{{ app_data[1] }}"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring focus:border-indigo-500"
                required>
        </div>
        <div class="mb-4">
            <label for="redirect_url" class="block text-sm font-medium mb-1">Redirect URL</label>
            <input type="url" name="redirect_url" value="{{ app_data[2] }}"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring focus:border-indigo-500"
                required>
        </div>
        <div class="mb-4">
            <p class="text-sm font-medium mb-1">Current Icon:</p>
            {% if app_data[3] %}
            <img src="{{ url_for('static', filename=app_data[3].replace('static/', '')) }}" alt="Icon"
                class="w-16 h-16 object-contain mb-2">
            {% else %}
            <p class="mb-2">No icon uploaded.</p>
            {% endif %}
            <label for="icon_file" class="block text-sm font-medium mb-1">Upload New Icon (optional)</label>
            <input type="file" name="icon_file" accept="image/*"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring focus:border-indigo-500">
        </div>
        <div class="mb-6">
            <p class="text-sm font-medium mb-1">Current Thumbnail:</p>
            {% if app_data[4] %}
            <img src="{{ url_for('static', filename=app_data[4].replace('static/', '')) }}" alt="Thumbnail"
                class="w-full h-32 object-cover mb-2 rounded-md">
            {% else %}
            <p class="mb-2">No thumbnail uploaded.</p>
            {% endif %}
            <label for="thumb_file" class="block text-sm font-medium mb-1">Upload New Thumbnail (optional)</label>
            <input type="file" name="thumb_file" accept="image/*"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring focus:border-indigo-500">
        </div>
        <div class="flex space-x-2">
            <button type="submit" class="px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition">
                Update App
            </button>
            <a href="{{ url_for('index') }}"
                class="px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}ÃŸ